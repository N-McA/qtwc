<svelte:head>
  <title>Race - Quad Tandem Worldies</title>
</svelte:head>

<section bind:clientWidth>
  <div class="has-text-centered" style="max-width: 700px; margin: auto;">
    <div class="card is-size-4">
      <h1 class='is-size-3 has-text-weight-semibold'>The Race</h1>
      <hr>
      <div class="columns is-vcentered is-gapless">
        <div class="column">
          Portland, Oregon
        </div>
        <div class="column is-size-1">
          <span style="{rot(clientWidth)}">➜</span>
        </div>
        <div class="column">
          San Francisco, California
        </div>
      </div>
      <hr>
      <div class="columns is-vcentered is-gapless">
        <div class="column">
          15 Sept. 2018
        </div>
        <div class="column is-size-1">
          <span style="{rot(clientWidth)}">➜</span>
        </div>
        <div class="column">
          28 Sept. 2018
        </div>
      </div>
      <hr>
      <h3 style="margin-top: 1rem;">
        It's a stage race, like the Tour de France.
      </h3>
    </div>
  </div>
</section>

<section>
  <div class="has-text-centered">
    <h1 class='is-size-3 has-text-weight-semibold'>Key Features</h1>
  </div>
</section>

<section>
<div class="has-text-centered" style="max-width: 700px; margin: auto;">
    {#each features as f, i}
      <div class="card">
        <div class="columns is-vcentered">
          {#if f.img}
            <div class="column">
              <img class="circle" src="{f.img}"/>
            </div>
          {/if}
          <div class="column">
            <h4 class='is-size-4 has-text-weight-bold'>{f.title}</h4>
            <p class="{(!!f.img) ? 'has-text-left' : ''}">
              {f.text}
            </p>
          </div>
        </div>
      </div>
    {/each}
</section>


<script>
  export default {
    data: () => ({
      features: [
        {
          title: "Footage",
          img: "imgs/camera.jpg",
          text: "There's going to be lots of video on Facebook and Insta - so make sure to follow us!"
        },
        {
          title: "Beards",
          img: "imgs/beard.jpg",
          text: "The Canadians have them. The Brits shave them (and their legs). They're long, flowing and beautiful. But the beards are awful."
        },
        {
          title: "Bears",
          img: "imgs/bear.jpg",
          text: "Er, we think there might be bears or something. Idfk.",
        },
        {
          title: "Bickering",
          img: "imgs/fight.jpg",
          text: "We strongly suspect that it's provably impossible to make it more than 100 clicks on a quaddie without at least a couple of sharp words. Fortunately it'll all be captured by the media team.",
        },
        {
          title: "Mechanical Failures",
          img: "imgs/broken-bike.jpg",
          text: "Things break. Regularly. Because of how heavy the damn quads are mainly, but also due to rider error, tough terrain and numerous other issues.",
        },
        {
          title: "Mountains",
          img: "imgs/mountain.jpg",
          text: "What's big, pretty, and non-trivial to pedal a quad tandem up? Oh yeah it's the mountains.",
        },
        {
          title: "Idiocy",
          text: "The entire endeavour is arguably a poor life choice for all involved. So make sure you watch it live!"
        },
      ]
    }),
    helpers: {
      rot(width) {
        if (width < 600) {
          return "display: block; transform: rotate(90deg);"
        }
      } 
    }
  }
</script>

<style>

  .card {
    margin: 1.25rem;
    padding:1.25rem;
  }

  .circle {
    border-radius: 50%;
    width: 10rem;
  }

  .columns.is-gapless {
    margin-bottom: 0;
  }

  .charity-card {
    margin: 1.25rem;
    padding: 0.5rem 1.25rem;
  }

  .charity-text {
    white-space: pre-wrap;
    text-align: left;
    margin-top: 0;
  }

  hr {
    margin: 0.5rem;
  }

  .cause-img.flag {
    max-width: 60%;
    max-height: 60%;
  }

  .cause-img {
    max-width: 15rem;
    max-height: 8rem;
    padding: 1rem;
    height: auto;
    width: 15rem;
    align-self: center;
    flex: 0 0 auto;
  }

  .cause-img.mental_health_research_uk {
    padding-top: 0rem;
    padding-right: 0.5rem;
  }

  .cause-img.to_write_love_on_her_arms {
    /* padding-bottom: 0rem; */
  }

  .cause-img-div {
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .charity-columns {
    max-width: 900px;
    margin: auto;
  }

  .donate-button {
    margin: 1rem;
    background: #325885;
    color: white;
    font-size: 1.25rem;
  }

  @media (max-width: 400px) {
    .column.charity-column {
      padding: 0.35rem;
    }
    .charity-card>p {
      padding: 0rem;
    }
    .charity-card {
      margin: 0.5rem;
      padding: 0.5rem 1.25rem;
    }
  }
</style>